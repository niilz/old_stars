(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[862],{154:e=>{e.exports={Header:"Header_Header__r28vo",logo:"Header_logo__ITeVo",headerStripes:"Header_headerStripes__uGMbu",title:"Header_title__llmgH"}},1002:e=>{e.exports={Message:"Message_Message__RY7Dc",error:"Message_error__oQdtH",info:"Message_info__ULI_R",none:"Message_none__9v8Rt"}},1490:e=>{e.exports={AppLogo:"Logo_AppLogo__n42AC",starotate:"Logo_starotate__yepxx"}},1540:e=>{e.exports={Btn:"Button_Btn__tQLCR"}},1634:e=>{e.exports={Main:"Main_Main__cpCi5",headerStripes:"Main_headerStripes__gOoXo",title:"Main_title__QDklA",logo:"Main_logo__1tkZI"}},1959:e=>{e.exports={RegisterLoginForm:"ClubLoginForm_RegisterLoginForm__SW6p7",registerBtn:"ClubLoginForm_registerBtn__wr2eO"}},2091:e=>{e.exports={warningWrapper:"WaterRoundWarning_warningWrapper__6Uygi",warning:"WaterRoundWarning_warning__S9NfG"}},2263:e=>{e.exports={User:"UserView_User__s0Lxk",statsPanel:"UserView_statsPanel__rvhge",icons:"UserView_icons__H88O8",stats:"UserView_stats__Mo182",beer:"UserView_beer__aBxz5",other:"UserView_other__i7pF5",cigarette:"UserView_cigarette__4r0YY"}},2564:e=>{e.exports={ArchiveView:"ArchiveView_ArchiveView__N04WG",ArchiveList:"ArchiveView_ArchiveList__uL8b6",archiveButton:"ArchiveView_archiveButton__4UX3Q"}},2711:e=>{e.exports={error:"GlobalError_error__xWTQ7"}},3774:e=>{e.exports={Main:"UserLoginView_Main__shzii",headerStripes:"UserLoginView_headerStripes__9quCT",title:"UserLoginView_title__nXRqF",logo:"UserLoginView_logo__EqOOa"}},3905:()=>{},3911:e=>{e.exports={UserList:"UserList_UserList__17M_W",TableArea:"UserList_TableArea__p4Va_",Thead:"UserList_Thead__taPn2",Tr:"UserList_Tr__sPT1_",Th:"UserList_Th__j3c13"}},4622:e=>{e.exports={Modal:"Modal_Modal__mpQgM"}},4840:e=>{e.exports={Playground:"Playground_Playground__RMDje",buttons:"Playground_buttons__gz5h9",refresh:"Playground_refresh__84xa1"}},4909:e=>{e.exports={RegisterLoginForm:"AdminLoginForm_RegisterLoginForm__kXDxJ",registerBtn:"AdminLoginForm_registerBtn__b2vPL"}},7014:e=>{e.exports={LoginForm:"Login_LoginForm__uHOu_"}},7737:e=>{e.exports={AdminConsole:"AdminConsole_AdminConsole__rASuW",DataSection:"AdminConsole_DataSection__jJAVQ",textarea:"AdminConsole_textarea__3k4W7"}},7768:e=>{e.exports={OneHistory:"OneHistoryView_OneHistory__N_vm3",H1:"OneHistoryView_H1__zX2JW",H2:"OneHistoryView_H2__yg_Nc"}},8976:e=>{e.exports={RegisterLoginForm:"RegisterLoginForm_RegisterLoginForm__fPouy",registerBtn:"RegisterLoginForm_registerBtn__xymoa"}},9231:e=>{e.exports={Main:"ClubLoginView_Main__1VfWF",headerStripes:"ClubLoginView_headerStripes__d05kc",title:"ClubLoginView_title__CiXdd",logo:"ClubLoginView_logo__GPgKF"}},9458:e=>{e.exports={itemContent:"ListItem_itemContent__c2Zb8",userData:"ListItem_userData__liP5I",delBtn:"ListItem_delBtn___70mM",count:"ListItem_count__0Khk_"}},9862:(e,t,s)=>{"use strict";s.r(t),s.d(t,{AppCtx:()=>eB,default:()=>eI});var r=s(5155),n=s(2115);let o="old-star-user-session",a="oldstars-club-token";var i=function(e){return e.GET="GET",e.POST="POST",e.DELETE="DELETE",e.HEAD="HEAD",e.OPTIONS="OPTIONS",e}({});let l=new Headers;async function c(e,t,s,r){return u(e,t,s,o,r)}async function u(e,t,s,r,n){r&&n&&l.set(r,n);let o={method:e,headers:l,mode:"cors",cache:"default",credentials:"include"};e===i.POST&&(o.body=s);let a=await fetch(`https://niilz.de/${t}`,o),c=await a.json();return console.log({resJson:c}),c}function d(e){let{Ok:t}=e,{Err:s}=e;if(s)throw`Ooops... ${s}`;return t}async function g(e,t){return d(await u(i.POST,"register",JSON.stringify(e),a,t))}async function h(e){return c(i.GET,"all","",e)}async function m(e){return c(i.GET,"start","",e)}async function x(e){return c(i.GET,"logout","",e)}l.set("Accept","application/json"),l.set("Content-Type","application/json");var _=s(1634),p=s.n(_),y=function(e){return e[e.ClubLogin=0]="ClubLogin",e[e.UserLogin=1]="UserLogin",e[e.AdminLogin=2]="AdminLogin",e[e.Playground=3]="Playground",e[e.AdminConsole=4]="AdminConsole",e[e.Histories=5]="Histories",e[e.OneHistory=6]="OneHistory",e}({});class j{tryReadFromStorage(e){let t=this.readFromStorage(e);if(!t)throw`No value for key ${e} present`;return t}}class C extends j{readFromStorage(e){return window.localStorage.getItem(e)}removeItem(e){window.localStorage.removeItem(e)}storeItem(e,t){window.localStorage.setItem(e,t)}}let L=n.createContext({keyValueStore:new C,setKeyValueStore:e=>{}}),w=n.createContext({addUser:e=>{},setSessionUser:e=>{}}),v=n.createContext({activeView:y.ClubLogin,setActiveView:e=>{}}),b=n.createContext({currentError:"",setCurrentError:e=>{}}),S=n.createContext({selectedHistory:[],setSelectedHistory:e=>{}});var N=s(1490),f=s.n(N);function E(e){return(0,r.jsx)("div",{className:`${f().AppLogo} ${e.styles}`,children:"⭐"})}var D=s(154),A=s.n(D);function k(e){let{appHeight:t}=(0,n.useContext)(eB);return(0,r.jsxs)("header",{className:A().Header,children:[e.showLogo?(0,r.jsx)(E,{styles:A().logo}):null,(0,r.jsx)("div",{className:`${A().headerStripes} ${e.styles?e.styles.headerStripes:""}`,children:(0,r.jsx)("h1",{className:`${A().title} ${e.styles?e.styles.title:""}`,children:"Old-Stars App"})})]})}var T=s(9231),F=s.n(T),U=s(1002),R=s.n(U),H=function(e){return e.ERR="error",e.INFO="info",e.NONE="none",e}({});function O(e){return(0,r.jsx)("p",{className:`${R().Message} ${R()[e.type]}`,children:e.msg})}class ${static async loginUser(e,t){return d(await u(i.POST,"login",JSON.stringify(e),a,t))}static async clubLogin(e){return d(await u(i.POST,"club/login",JSON.stringify({name:"club",pwd:e})))}static async hasClubAccess(e){return u(i.GET,"club/access","",a,e)}static async isAdmin(e){return c(i.GET,"admin","",e)}}var P=s(1540),V=s.n(P);function B(e){return(0,r.jsx)("button",{className:`${V().Btn} ${e.styles}`,onClick:e.callback,children:e.text})}var I=s(1959),M=s.n(I);function W(e){let t;return e?"object"!=typeof e?{msg:e.toString()}:("msg"in e&&(t=e.msg),"message"in e&&(t=e.message),t)?"string"==typeof t?{msg:t}:{msg:`unknwon message-type: ${e}`}:{msg:`unknown message-prop: ${e}`}:{msg:"error is null"}}function G(e){let[t,s]=(0,n.useState)(""),{keyValueStore:o}=(0,n.useContext)(L);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("form",{onSubmit:z,className:`${M().RegisterLoginForm}`,children:[(0,r.jsx)("input",{type:"password",value:t,placeholder:"password",onChange:e=>s(e.target.value)}),(0,r.jsx)(B,{text:"Login",styles:M().registerBtn,callback:()=>{$.clubLogin(t).then(t=>{s(""),"string"==typeof t&&(o.storeItem(a,t),e.onLogin())}).catch(t=>{e.onError(H.ERR,W(t).msg)})}})]})})}function z(e){e.preventDefault()}function J(){let{setActiveView:e}=(0,n.useContext)(v),[t,s]=(0,n.useState)(""),[o,a]=(0,n.useState)(H.NONE);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(k,{showLogo:!1,styles:{headerStripes:F().headerStripes,title:F().title}}),(0,r.jsx)(E,{styles:F().logo}),(0,r.jsx)(O,{msg:t,type:o}),(0,r.jsx)(G,{onLogin:()=>e(y.UserLogin),onError:(e,t)=>{s(t),a(e)}})]})}var Q=s(8976),X=s.n(Q);function q(e){let{setSessionUser:t}=(0,n.useContext)(w),{keyValueStore:s}=(0,n.useContext)(L),[i,l]=(0,n.useState)(""),[c,u]=(0,n.useState)(""),d=async()=>{try{let t=s.tryReadFromStorage(a),r=await g({name:i,pwd:c},t);e.onRegister(r),l(""),u("")}catch(t){e.onError(H.ERR,W(t).msg)}};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("form",{onSubmit:K,className:`${X().RegisterLoginForm}`,children:[(0,r.jsx)("input",{type:"text",placeholder:"user-name",value:i,onChange:e=>l(e.target.value)}),(0,r.jsx)("input",{type:"password",value:c,placeholder:"password",onChange:e=>u(e.target.value)}),(0,r.jsx)(B,{text:"Login",styles:X().registerBtn,callback:()=>{let r=s.tryReadFromStorage(a);$.loginUser({name:i,pwd:c},r).then(r=>{l(""),u(""),t(r.user),s.storeItem(o,r.sessionId),e.onLogin(r.user.name)}).catch(t=>e.onError(H.ERR,W(t).msg))}}),(0,r.jsx)(B,{text:"Register",styles:X().registerBtn,callback:d})]})})}function K(e){e.preventDefault()}var Y=s(7014),Z=s.n(Y);function ee(e){let[t,s]=(0,n.useState)(""),[o,a]=(0,n.useState)(H.NONE),{addUser:i}=(0,n.useContext)(w);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(O,{msg:t,type:o}),(0,r.jsx)(q,{...e,onRegister:e=>{s("Registration was successful"),a(H.INFO),i(e)},onLogin:e.onLogin,onError:(e,t)=>{s(t),a(e)},styles:Z().LoginForm})]})}var et=s(3774),es=s.n(et);function er(e){let{setActiveView:t}=(0,n.useContext)(v);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(k,{showLogo:!1,styles:{headerStripes:es().headerStripes,title:es().title}}),(0,r.jsx)(E,{styles:es().logo}),(0,r.jsx)(ee,{onLogin:s=>{t(y.Playground),e.onLogin(s)}})]})}var en=s(4622),eo=s.n(en);function ea(e){let{appHeight:t}=(0,n.useContext)(eB);return(0,r.jsx)("div",{className:eo().Modal,style:{height:t},children:e.children})}var ei=s(9458),el=s.n(ei);function ec(e){return(0,r.jsxs)("tr",{className:el().itemContent,children:[(0,r.jsx)("td",{children:(0,r.jsx)("div",{className:el().userData,children:e.user.name})}),(0,r.jsx)("td",{className:el().count,children:e.user.beerCount}),(0,r.jsx)("td",{className:el().count,children:e.user.shotCount}),(0,r.jsx)("td",{className:el().count,children:e.user.otherCount}),(0,r.jsx)("td",{className:el().count,children:e.user.waterCount}),(0,r.jsx)("td",{className:el().count,children:e.user.cigaretteCount}),e.isEditable?(0,r.jsx)("td",{children:(0,r.jsx)("button",{className:el().delBtn,onClick:e.deleteGotClicked,children:"❌"})}):null]})}var eu=s(3911),ed=s.n(eu);function eg(e){return(0,r.jsx)("div",{className:ed().TableArea,children:(0,r.jsxs)("table",{className:ed().UserList,children:[(0,r.jsx)("thead",{className:ed().Thead,children:(0,r.jsxs)("tr",{className:ed().Tr,children:[(0,r.jsx)("th",{className:ed().Th}),(0,r.jsx)("th",{className:ed().Th,children:"\uD83C\uDF7A"}),(0,r.jsx)("th",{className:ed().Th,children:"\uD83E\uDD43"}),(0,r.jsx)("th",{className:ed().Th,children:"\uD83E\uDD64"}),(0,r.jsx)("th",{className:ed().Th,children:"\uD83D\uDEB0"}),(0,r.jsx)("th",{className:ed().Th,children:"\uD83D\uDEAC"})]})}),(0,r.jsx)("tbody",{children:e.users.map((t,s)=>(0,r.jsx)(ec,{id:`${t.name}-${s}`,user:t,isEditable:e.isEditable,deleteGotClicked:()=>e.onDelete?e.onDelete(t.id):null},`${t.name}-${s}`))})]})})}var eh=s(2263),em=s.n(eh);function ex(e){let t=async t=>{let s=d(await c(i.GET,`${t}/${e.user.id}`,"",e.userSession));e.onUserUpdate(s)};return(0,r.jsxs)("div",{className:em().User,children:[(0,r.jsx)("p",{className:em().name,children:e.user.name}),(0,r.jsxs)("div",{className:em().statsPanel,children:[(0,r.jsxs)("div",{className:em().icons,children:[(0,r.jsx)("button",{onClick:()=>t("beer"),className:em().beer,children:"\uD83C\uDF7A"}),(0,r.jsx)("button",{onClick:()=>t("shot"),className:em().shots,children:"\uD83E\uDD43"}),(0,r.jsx)("button",{onClick:()=>t("other"),className:em().other,children:"\uD83E\uDD64"}),(0,r.jsx)("button",{onClick:()=>t("water"),className:em().water,children:"\uD83D\uDEB0"}),(0,r.jsx)("button",{onClick:()=>t("cigarette"),className:em().cigarette,children:"\uD83D\uDEAC"})]}),(0,r.jsxs)("div",{className:em().stats,children:[(0,r.jsx)("p",{className:em().count,children:e.user.beerCount}),(0,r.jsx)("p",{className:em().count,children:e.user.shotCount}),(0,r.jsx)("p",{className:em().count,children:e.user.otherCount}),(0,r.jsx)("p",{className:em().count,children:e.user.waterCount}),(0,r.jsx)("p",{className:em().count,children:e.user.cigaretteCount})]})]})]})}var e_=s(2091),ep=s.n(e_);function ey(e){let t=async()=>{let t=d(await c(i.GET,`water/${e.userId}`,"",e.userSession));e.onWaterConsumed(t)};return(0,r.jsxs)("div",{className:ep().warningWrapper,children:[(0,r.jsx)("p",{className:ep().warning,children:"Du musst eine Wasserrunde trinken"}),(0,r.jsx)(B,{text:"Wasser getrunken",styles:"",callback:t})]})}class ej{constructor(e){this.id=e.id,this.name=e.name,this.role=e.role,this.pwd=e.pwd,this.beerCount=e.beerCount,this.shotCount=e.shotCount,this.otherCount=e.otherCount,this.waterCount=e.waterCount,this.cigaretteCount=e.cigaretteCount}}var eC=s(4840),eL=s.n(eC);function ew(e){let{keyValueStore:t}=(0,n.useContext)(L),s=t.tryReadFromStorage(o),a=new ej(e.user);return(0,r.jsxs)(r.Fragment,{children:[function(e){let t=e.beerCount+e.shotCount;if(t<3)return!1;let s=3*e.waterCount+3;return console.log({maxAlcAllowed:s}),t>s}(a)&&(0,r.jsx)(ea,{children:(0,r.jsx)(ey,{userId:e.user.id,onWaterConsumed:e.onUserUpdate,userSession:s})}),(0,r.jsxs)("div",{className:eL().Playground,children:[(0,r.jsx)(k,{showLogo:!0}),(0,r.jsx)(ex,{user:e.user,onUserUpdate:e.onUserUpdate,userSession:s}),(0,r.jsx)(eg,{users:e.users,isEditable:!1}),(0,r.jsxs)("div",{className:eL().buttons,children:[(0,r.jsx)(B,{text:"logout",styles:eL().Btn,callback:e.logout}),(0,r.jsx)(B,{text:"\uD83D\uDD04",styles:eL().refresh,callback:e.onRefresh})]}),(0,r.jsx)(B,{text:"archive",styles:eL().Btn,callback:e.onHistories}),(0,r.jsx)(B,{text:"admin",styles:eL().Btn,callback:e.openAdminLogin})]})]})}var ev=s(7737),eb=s.n(ev);function eS(e){let{setActiveView:t}=(0,n.useContext)(v),{keyValueStore:s}=(0,n.useContext)(L),[a,l]=(0,n.useState)(""),[u,g]=(0,n.useState)({msgType:H.NONE,msg:""}),h=async()=>{let e=s.tryReadFromStorage(o),t=await c(i.POST,"history",a,e);try{let e=d(t);g({msgType:H.INFO,msg:`stored history with ${e.length} items`}),l("")}catch(e){g({msgType:H.ERR,msg:W(e).msg})}};return(0,r.jsxs)("div",{className:eb().AdminConsole,children:[(0,r.jsx)(k,{showLogo:!0}),(0,r.jsxs)("div",{className:eb().DataSection,children:[(0,r.jsx)(eg,{users:e.users,isEditable:!0,onDelete:t=>{let r=s.tryReadFromStorage(o),n=c(i.DELETE,`delete/${t}`,"",r);e.onDelete(n)}}),(0,r.jsx)(B,{text:"historize",styles:eb().Btn,callback:()=>{var t;let r=(t=s.tryReadFromStorage(o),c(i.GET,"historize","",t));e.onHistorize(r)}}),(0,r.jsx)(B,{text:"Home",styles:eb().Btn,callback:()=>t(y.Playground)}),(0,r.jsx)(O,{msg:u.msg,type:u.msgType}),(0,r.jsx)("textarea",{className:eb().textarea,placeholder:"paste history as CSV here",onChange:e=>l(e.target.value)}),(0,r.jsx)(B,{text:"save history",styles:eb().Btn,callback:h})]})]})}function eN(e){let t=new Date(1e3*e.secs_since_epoch);return{date:t.toLocaleDateString(),time:t.toLocaleTimeString()}}var ef=s(7768),eE=s.n(ef);function eD(e){let{setActiveView:t}=(0,n.useContext)(v),{date:s,time:o}=e.dateAndTime;return(0,r.jsxs)("div",{className:eE().OneHistory,children:[(0,r.jsx)(k,{showLogo:!0}),(0,r.jsx)("h1",{className:eE().H1,children:"Historisches Ergebnis"}),(0,r.jsx)("h2",{className:eE().H2,children:`${s} / ${o}`}),(0,r.jsx)(eg,{users:e.users,isEditable:!1}),(0,r.jsx)(B,{text:"back",styles:eE().Btn,callback:()=>t(y.Histories)}),(0,r.jsx)(B,{text:"Home",styles:eE().Btn,callback:()=>t(y.Playground)})]})}var eA=s(2564),ek=s.n(eA);function eT(e){let{setActiveView:t}=(0,n.useContext)(v),{setSelectedHistory:s}=(0,n.useContext)(S);return(0,r.jsxs)("div",{className:ek().ArchiveView,children:[(0,r.jsx)(k,{showLogo:!0}),(0,r.jsx)("ol",{className:ek().ArchiveList,children:Array.from(e.historyDays.keys()).map((n,o)=>{let{date:a,time:i}=JSON.parse(n);return(0,r.jsx)("li",{id:`history-${o}`,children:(0,r.jsx)(B,{styles:ek().archiveButton,text:`Beendet am ${a} um ${i}`,callback:()=>{s(e.historyDays.get(n)||[]),t(y.OneHistory)}})},`history-${o}`)})}),(0,r.jsx)(B,{styles:"",text:"home",callback:()=>t(y.Playground)})]})}function eF(e){let[t,s]=(0,n.useState)([]),[l,u]=(0,n.useState)(null),[g,_]=(0,n.useState)([]),[j,C]=(0,n.useState)([]),{setAdminLoginOpen:N}=(0,n.useContext)(eB),{activeView:f,setActiveView:E}=(0,n.useContext)(v),{setCurrentError:D}=(0,n.useContext)(b),{keyValueStore:A}=(0,n.useContext)(L),k=async()=>{try{console.log("trying to fetch all users");let e=A.readFromStorage(o);if(e){let t=await h(e),r=d(t);s(r)}}catch(e){E(y.ClubLogin),console.error(`Loading users failed: ${e}`),D("loading users failed"+W(e).msg)}};(0,n.useEffect)(()=>{f===y.Playground&&k()},[f]);let T=async e=>{e&&(console.log("Checking if club-token is still valid"),!0===await $.hasClubAccess(e)?(console.log("Has club access"),E(y.UserLogin)):(console.log("Club token is not valid, removing club-token"),A.removeItem(a),E(y.ClubLogin)))};(0,n.useEffect)(()=>{let t=async t=>{console.log("trying to attach session");let s=await m(t);if(s.Err){console.log(`Session login did not work. Err: ${s.Err}. Clearing token`),A.removeItem(o);let e=A.readFromStorage(a);e&&T(e)}else{console.log(`got attachResponse: ${s}`);let t=d(s);u(t),e.onUserLogin(t.name),E(y.Playground),k()}},s=A.readFromStorage(o);s&&t(s).catch(e=>{console.error(`Could not attach session: ${e}`),D("Attaching session failed")})},[]);let F=async e=>{d(await e),k()},U=async()=>{let e=A.tryReadFromStorage(o);await x(e)&&(E(y.UserLogin),u(null),A.removeItem(o))},R=async()=>{let e=A.tryReadFromStorage(o);s(d(await h(e)))},H=async e=>{let t=await e;console.log(`Histories: ${t}`)},O=async()=>{let e=A.tryReadFromStorage(o);_(d(await c(i.GET,"histories","",e))),E(y.Histories)};return(0,r.jsx)("div",{className:p().Main,children:(0,r.jsxs)(w.Provider,{value:{addUser:e=>{s([...t,e])},setSessionUser:u},children:[f===y.ClubLogin&&(0,r.jsx)(J,{}),f===y.UserLogin&&(0,r.jsx)(er,{onLogin:e.onUserLogin}),f===y.Playground&&l&&(0,r.jsx)(ew,{user:l,users:t,logout:U,openAdminLogin:()=>{N(!0)},onUserUpdate:e=>{s(t.map(t=>t.id===e.id?e:t)),u(e)},onHistories:O,onRefresh:R}),f===y.AdminConsole&&(0,r.jsx)(eS,{users:t,onDelete:F,onHistorize:H}),(0,r.jsxs)(S.Provider,{value:{selectedHistory:j,setSelectedHistory:C},children:[f===y.Histories&&(0,r.jsx)(eT,{historyDays:g.reduce((e,t)=>{let s=JSON.stringify(eN(t.timestamp)),r=e.get(s);return r?r.push(t):e.set(s,[t]),e},new Map)}),f===y.OneHistory&&(0,r.jsx)(eD,{dateAndTime:eN(j[0].timestamp),users:j.map(e=>({id:e.id,name:e.userName,role:null,pwd:"",beerCount:e.beerCount,shotCount:e.shotCount,otherCount:e.otherCount,waterCount:e.waterCount,cigaretteCount:e.cigaretteCount}))})]})]})})}s(3905);var eU=s(2711),eR=s.n(eU);function eH(){let{currentError:e}=(0,n.useContext)(b);return(0,r.jsx)("div",{className:eR().error,children:(0,r.jsx)("p",{children:e})})}var eO=s(4909),e$=s.n(eO);function eP(e){let[t,s]=(0,n.useState)(""),{keyValueStore:i}=(0,n.useContext)(L),l=async()=>{console.log("calling login");let r=await $.loginUser({name:e.userName,pwd:t},i.tryReadFromStorage(a));console.log("got a fresh token"),s(""),i.storeItem(o,r.sessionId),!0===await $.isAdmin(r.sessionId)?(console.log("Admin-Login succeeded"),e.onLogin(y.AdminConsole)):console.log(`user ${e.userName} is no admin`)};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("form",{onSubmit:eV,className:`${e$().RegisterLoginForm}`,children:[(0,r.jsx)("input",{type:"password",value:t,placeholder:"password",onChange:e=>s(e.target.value)}),(0,r.jsx)(B,{text:"Login",styles:e$().registerBtn,callback:()=>l().catch(t=>e.onError(H.ERR,W(t).msg))})]})})}function eV(e){e.preventDefault()}let eB=n.createContext({isAdminLoginOpen:!1,setAdminLoginOpen:e=>{},appHeight:0}),eI=function(){let[e,t]=(0,n.useState)(window.innerHeight),[s,o]=(0,n.useState)(y.ClubLogin),[a,i]=(0,n.useState)(""),[l,c]=(0,n.useState)(""),[u,d]=(0,n.useState)(!1);return(0,r.jsx)(eB.Provider,{value:{isAdminLoginOpen:u,setAdminLoginOpen:d,appHeight:e},children:(0,r.jsx)(b.Provider,{value:{currentError:a,setCurrentError:i},children:(0,r.jsx)(v.Provider,{value:{activeView:s,setActiveView:o},children:(0,r.jsxs)("div",{className:"App",style:{height:e},children:[(0,r.jsx)(eF,{onUserLogin:c}),u&&(0,r.jsx)(ea,{children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eP,{onLogin:e=>{o(e),d(!1)},onError:e=>i(`Admin Login failed: ${W(e).msg}`),userName:l}),(0,r.jsx)(B,{text:"cancel",callback:()=>{d(!1),i("")},styles:""})]})}),(0,r.jsx)(eH,{})]})})})})}}}]);